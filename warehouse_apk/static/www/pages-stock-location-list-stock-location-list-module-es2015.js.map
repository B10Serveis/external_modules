{"version":3,"sources":["./src/app/components/location-list/location-list.component.html","./src/app/pages/stock-location-list/stock-location-list.page.html","./src/app/components/location-list/location-list.component.scss","./src/app/components/location-list/location-list.component.ts","./src/app/pages/stock-location-list/stock-location-list.module.ts","./src/app/pages/stock-location-list/stock-location-list.page.scss","./src/app/pages/stock-location-list/stock-location-list.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,udAAud,uBAAuB,usBAAusB,wBAAwB,oD;;;;;;;;;;;ACA7sC,8gBAA8gB,kDAAkD,qLAAqL,aAAa,m5B;;;;;;;;;;;ACAlwB,2BAA2B,oBAAoB,GAAG,mBAAmB,oCAAoC,GAAG,kBAAkB,mCAAmC,GAAG,mBAAmB,oCAAoC,GAAG,qBAAqB,sCAAsC,GAAG,oBAAoB,qCAAqC,GAAG,kBAAkB,mCAAmC,GAAG,6CAA6C,uqD;;;;;;;;;;;;;;;;;;ACApY;AAChB;AAOzC,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IAKhC,YAAmB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEtC,QAAQ,KAAI,CAAC;IAEb,SAAS,CAAC,WAAW;QACnB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,GAAC,WAAW,CAAC,CAAC;IAC5D,CAAC;CAEF;;YAR4B,sDAAM;;AAHxB;IAAR,2DAAK,EAAE;;wDAAc;AAFX,qBAAqB;IALjC,+DAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,oLAA6C;;KAE9C,CAAC;2EAM2B,sDAAM;GALtB,qBAAqB,CAajC;AAbiC;;;;;;;;;;;;;;;;;;;;;;;;;ACRO;AACM;AACF;AACU;AAEV;AAEsB;AAC4B;AAErC;AAE1D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+EAAqB;KACjC;CACF,CAAC;AAaF,IAAa,2BAA2B,GAAxC,MAAa,2BAA2B;CAAG;AAA9B,2BAA2B;IAXvC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,kEAAY;SACb;QACD,eAAe,EAAE,CAAC,uGAAqB,CAAC;QACxC,YAAY,EAAE,CAAC,+EAAqB,EAAE,uGAAqB,CAAC;KAC7D,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;AC9BxC,iCAAiC,oBAAoB,sCAAsC,oBAAoB,GAAG,oCAAoC,oCAAoC,GAAG,6CAA6C,2+B;;;;;;;;;;;;;;;;;;;;;;;ACA7K;AACpB;AAC2B;AACV;AACE;AACA;AAEnB;AAOzC,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IAiBhC,YACU,IAAiB,EAClB,MAAc,EACd,SAA0B,EACzB,KAAmB,EACnB,KAAmB,EACnB,OAAgB;QALhB,SAAI,GAAJ,IAAI,CAAa;QAClB,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAiB;QACzB,UAAK,GAAL,KAAK,CAAc;QACnB,UAAK,GAAL,KAAK,CAAc;QACnB,YAAO,GAAP,OAAO,CAAS;QArB1B,oBAAe,GAAmB,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;QAuBlF,IAAI,CAAC,cAAc,GAAG;YACpB,GAAG;YACH,mBAAmB;YACnB,oBAAoB;YACpB,kBAAkB;YAClB,aAAa;YACb,GAAG;YACH,GAAG;YACH,wBAAwB;YACxB,wBAAwB;YACxB,mBAAmB;YACnB,aAAa;YACb,IAAI;YACJ;gBACE,OAAO,EAAE,MAAM;gBACf,MAAM,EAAE,KAAK;gBACb,MAAM,EAAE,SAAS;gBACjB,MAAM,EAAE,CAAC;aACV;YACD;gBACE,OAAO,EAAE,UAAU;gBACnB,MAAM,EAAE,SAAS;gBACjB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,CAAC;aACV;YACD,GAAG;YACH,wBAAwB;YACxB,sBAAsB;YACtB,mBAAmB;YACnB,cAAc;YACd,IAAI;YACJ,GAAG;YACH,yBAAyB;YACzB,yBAAyB;YACzB,wBAAwB;YACxB,aAAa;YACb,IAAI;YACJ,GAAG;YACH,2BAA2B;YAC3B,6BAA6B;YAC7B,qBAAqB;YACrB,aAAa;YACb,IAAI;YACJ;gBACE,OAAO,EAAE,YAAY;gBACrB,MAAM,EAAE,YAAY;gBACpB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,CAAC;aACV;YACD;gBACE,OAAO,EAAE,SAAS;gBAClB,MAAM,EAAE,UAAU;gBAClB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,CAAC;aACV;SACF;QACD,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,EAAE;YAClC,IAAI,IAAI,IAAE,KAAK,EAAE;gBACf,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;aACrC;iBAAM;gBACL,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;gBACnC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;aACtD;QACH,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAC,EAAE;YACd,IAAI,CAAC,YAAY,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACvC,IAAI,GAAG,EAAC;gBACN,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;aAC5B;QACH,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAC,EAAE;YACd,IAAI,CAAC,YAAY,CAAC,8CAA8C,EAAE,KAAK,CAAC,CAAC;QAC3E,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,GAAW;QAC1B,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClE,CAAC;IAED,aAAa,CAAC,GAAY;QACxB,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;IAC5B,CAAC;IAEK,YAAY,CAAC,MAAM,EAAE,KAAK;;YAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACzB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACtC,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE,KAAK;gBAChB,OAAO,EAAE,CAAC,IAAI,CAAC;aAClB,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,iBAAiB,CAAC,cAAc,GAAC,UAAU,EAAE,MAAM,GAAC,IAAI;QACtD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,qBAAqB,GAAG,cAAc,CAAC;QAC5C,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,cAAc,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,EAAC,EAAE;YAClG,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC;YAC/B,IAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,EAAE,EAAC;gBACxC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;gBAC1C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;aACvE;YACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,iDAAiD,EAAE,KAAK,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB,CAAC,EAAM;QACvB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClE,CAAC;IAED,iBAAiB;IAEjB,QAAQ,CAAC,KAAK;QACZ,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACtC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxB,IAAI,CAAC,iCAAiC,EAAE,CAAC;YAEzC,+CAA+C;YAC/C,kCAAkC;YAClC,IAAI,IAAI,CAAC,aAAa,EAAE;gBACtB,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;aAC9B;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,iCAAiC;QAC/B,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,IAAc,EAAC,EAAE;YACpH,IAAI,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC;YACxD,IAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,EAAE,EAAC;gBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B;YACD,KAAI,IAAI,CAAC,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,cAAc,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,iDAAiD,EAAE,KAAK,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;IAC/D,CAAC;CAEF;;YA5KiB,kEAAW;YACV,sDAAM;YACH,8DAAe;YAClB,oEAAY;YACZ,oEAAY;YACV,sDAAO;;AAnBoB;IAA7C,+DAAS,CAAC,gEAAiB,EAAE,EAAC,MAAM,EAAC,KAAK,EAAC,CAAC;oEAAiB,gEAAiB;6DAAC;AAJrE,qBAAqB;IALjC,+DAAS,CAAC;QACT,QAAQ,EAAE,yBAAyB;QACnC,uLAA8C;;KAE/C,CAAC;2EAmBgB,kEAAW;QACV,sDAAM;QACH,8DAAe;QAClB,oEAAY;QACZ,oEAAY;QACV,sDAAO;GAvBf,qBAAqB,CA8LjC;AA9LiC","file":"pages-stock-location-list-stock-location-list-module-es2015.js","sourcesContent":["module.exports = \"<ion-grid>\\n  <ion-row>\\n    <ion-col size=\\\"12\\\">\\n        <div><strong>Nombre</strong></div>\\n    </ion-col>\\n    \\n    <!--ion-col size=\\\"4\\\">\\n        <div><strong>Tipo de ubicación</strong></div>\\n    </ion-col>\\n  \\n    <ion-col size=\\\"4\\\">\\n      <div><strong>Compañía</strong></div>\\n    </ion-col-->\\n  </ion-row>\\n  \\n  <ion-row *ngFor=\\\"let location of locations\\\" (click)=\\\"open_link(location.id)\\\">\\n    <ion-col size=\\\"12\\\">\\n      <div>{{location.display_name}}</div>\\n    </ion-col>\\n  \\n    <!--ion-col size=\\\"4\\\" [ngSwitch]=\\\"location.usage\\\" class=\\\"ion-align-self-center ion-text-center\\\">\\n      <div *ngSwitchCase=\\\"'supplier'\\\">Ubicación de proveedor</div>\\n      <div *ngSwitchCase=\\\"'customer'\\\">Ubicación de cliente</div>\\n      <div *ngSwitchCase=\\\"'inventory'\\\">Ubicación de inventario</div>\\n      <div *ngSwitchCase=\\\"'procurement'\\\">Abastecimiento</div>\\n      <div *ngSwitchCase=\\\"'view'\\\">Ver</div>\\n      <div *ngSwitchCase=\\\"'internal'\\\">Ubicación interna</div>\\n      <div *ngSwitchCase=\\\"'production'\\\">Producción</div>\\n      <div *ngSwitchCase=\\\"'transit'\\\">Ubicación de tránsito</div>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"4\\\">\\n      <div>{{location.company_id[1]}}</div>\\n    </ion-col-->\\n  </ion-row>\\n</ion-grid>\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <app-scanner-header slot=\\\"end\\\" (show_scan_form_changed)=\\\"onShowEmitted($event)\\\" [show_scan_form]=show_scan_form></app-scanner-header>\\n    <ion-title>Listado de ubicaciones</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-row *ngIf=\\\"location_types\\\">\\n      <ion-col col-2 class=\\\"ion-align-self-center ion-text-center\\\" [ngClass]=\\\"{'selected': current_selected_type == option.value}\\\" *ngFor=\\\"let option of location_types\\\" (click)=\\\"get_location_list(option.value, search)\\\">\\n        <ion-icon class=\\\"icon\\\" [name]=\\\"option.icon\\\"></ion-icon><br/>\\n        {{option.name}}\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-row>\\n        <ion-toolbar>\\n          <ion-searchbar type=\\\"text\\\" (ionInput)=\\\"get_search_results($event)\\\" autocomplete=\\\"on\\\" showCancelButton=\\\"always\\\"></ion-searchbar>\\n        </ion-toolbar>\\n      </ion-row>   \\n      \\n      <app-location-list [locations]=\\\"locations\\\"></app-location-list>\\n\\n      <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\"\\n          loadingText=\\\"Cargando más productos...\\\">\\n        </ion-infinite-scroll-content>\\n      </ion-infinite-scroll>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\\n<app-scanner-footer (scanner_reading_changed)=\\\"onReadingEmitted($event)\\\" [show_scan_form]=show_scan_form [scanner_reading]=\\\"scanner_reading\\\"></app-scanner-footer>\\n\"","module.exports = \"ion-col {\\n  cursor: pointer;\\n}\\nion-col.success {\\n  color: var(--ion-color-success);\\n}\\nion-col.danger {\\n  color: var(--ion-color-danger);\\n}\\nion-col.primary {\\n  color: var(--ion-color-primary);\\n}\\nion-col.secondary {\\n  color: var(--ion-color-secondary);\\n}\\nion-col.tertiary {\\n  color: var(--ion-color-tertiary);\\n}\\nion-col.medium {\\n  color: var(--ion-color-medium);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9hcGsvc3JjL2FwcC9jb21wb25lbnRzL2xvY2F0aW9uLWxpc3QvbG9jYXRpb24tbGlzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9sb2NhdGlvbi1saXN0L2xvY2F0aW9uLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFtQkksZUFBQTtBQ2pCSjtBRERJO0VBQ0ksK0JBQUE7QUNHUjtBRERJO0VBQ0ksOEJBQUE7QUNHUjtBRERJO0VBQ0ksK0JBQUE7QUNHUjtBRERJO0VBQ0ksaUNBQUE7QUNHUjtBRERJO0VBQ0ksZ0NBQUE7QUNHUjtBRERJO0VBQ0ksOEJBQUE7QUNHUiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbG9jYXRpb24tbGlzdC9sb2NhdGlvbi1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbCB7XG4gICAgJi5zdWNjZXNzIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcbiAgICB9XG4gICAgJi5kYW5nZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG4gICAgfVxuICAgICYucHJpbWFyeSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgfVxuICAgICYuc2Vjb25kYXJ5IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIH1cbiAgICAmLnRlcnRpYXJ5IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci10ZXJ0aWFyeSk7XG4gICAgfVxuICAgICYubWVkaXVtIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICAgIH1cbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59IiwiaW9uLWNvbCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbmlvbi1jb2wuc3VjY2VzcyB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG59XG5pb24tY29sLmRhbmdlciB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbn1cbmlvbi1jb2wucHJpbWFyeSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5pb24tY29sLnNlY29uZGFyeSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbn1cbmlvbi1jb2wudGVydGlhcnkge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcbn1cbmlvbi1jb2wubWVkaXVtIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-location-list',\n  templateUrl: './location-list.component.html',\n  styleUrls: ['./location-list.component.scss'],\n})\nexport class LocationListComponent implements OnInit {\n\n  @Input() locations: {}\n  ngSwitch: any\n\n  constructor(public router: Router) { }\n\n  ngOnInit() {}\n\n  open_link(location_id){\n    this.router.navigateByUrl('/stock-location/'+location_id);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StockLocationListPage } from './stock-location-list.page';\nimport { LocationListComponent } from '../../components/location-list/location-list.component';\n\nimport { SharedModule } from '../../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StockLocationListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  entryComponents: [LocationListComponent],\n  declarations: [StockLocationListPage, LocationListComponent]\n})\nexport class StockLocationListPageModule {}\n","module.exports = \"ion-icon.icon {\\n  font-size: 45px;\\n  color: var(--ion-color-secondary);\\n  cursor: pointer;\\n}\\n\\nion-col.selected ion-icon.icon {\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9hcGsvc3JjL2FwcC9wYWdlcy9zdG9jay1sb2NhdGlvbi1saXN0L3N0b2NrLWxvY2F0aW9uLWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zdG9jay1sb2NhdGlvbi1saXN0L3N0b2NrLWxvY2F0aW9uLWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGlDQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREdJO0VBQ0ksK0JBQUE7QUNBUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0b2NrLWxvY2F0aW9uLWxpc3Qvc3RvY2stbG9jYXRpb24tbGlzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taWNvbi5pY29uIHtcbiAgICBmb250LXNpemU6IDQ1cHg7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuaW9uLWNvbC5zZWxlY3RlZCB7XG4gICAgaW9uLWljb24uaWNvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgfVxufSIsImlvbi1pY29uLmljb24ge1xuICBmb250LXNpemU6IDQ1cHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5pb24tY29sLnNlbGVjdGVkIGlvbi1pY29uLmljb24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, IonInfiniteScroll } from '@ionic/angular';\nimport { OdooService } from '../../services/odoo.service';\nimport { AudioService } from '../../services/audio.service';\nimport { StockService } from '../../services/stock.service';\nimport { ScannerOptions } from '../../interfaces/scanner-options';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-stock-location-list',\n  templateUrl: './stock-location-list.page.html',\n  styleUrls: ['./stock-location-list.page.scss'],\n})\nexport class StockLocationListPage implements OnInit {\n\n  scanner_options: ScannerOptions = { reader: true, microphone: false, sound: false };\n\n  @ViewChild(IonInfiniteScroll, {static:false}) infiniteScroll: IonInfiniteScroll;\n\n  offset: number;\n  limit: number;\n  limit_reached: boolean;\n  locations: {};\n  location_state: string;\n  location_types: {};\n  current_selected_type: string;\n  search: string;\n  show_scan_form: boolean;\n  scanner_reading: string;\n\n  constructor(\n    private odoo: OdooService,\n    public router: Router,\n    public alertCtrl: AlertController,\n    private audio: AudioService,\n    private stock: StockService,\n    private storage: Storage\n  ) {\n    this.location_types = [\n      //{\n      //  'value': 'all',\n      //  'name': 'Todos',\n      // 'icon': 'book',\n      //  'size': 2\n      //}\n      //{\n      //  'value': 'supplier',\n      //  'name': 'Proveedor',\n      //  'icon': 'boat',\n      //  'size': 1\n      //},\n      {\n        'value': 'view',\n        'name': 'Ver',\n        'icon': 'desktop',\n        'size': 1\n      },\n      {\n        'value': 'internal',\n        'name': 'Interna',\n        'icon': 'cube',\n        'size': 1\n      },\n      //{\n      //  'value': 'customer',\n      //  'name': 'Cliente',\n      //  'icon': 'cash',\n      // / 'size': 1\n      //},\n      //{\n      //  'value': 'inventory',\n      //  'name': 'Inventario',\n      //  'icon': 'clipboard',\n      //  'size': 1\n      //},\n      //{\n      //  'value': 'procurement',\n      //  'name': 'Abastecimiento',\n      //  'icon': 'log-in',\n      //  'size': 1\n      //},\n      {\n        'value': 'production',\n        'name': 'Producción',\n        'icon': 'hammer',\n        'size': 1\n      },\n      {\n        'value': 'transit',\n        'name': 'Tránsito',\n        'icon': 'swap',\n        'size': 2\n      }\n    ]\n    this.check_scanner_values();\n    this.offset = 0;\n    this.limit = 25;\n    this.limit_reached = false;\n  }\n\n  ngOnInit() {\n    this.odoo.isLoggedIn().then((data)=>{\n      if (data==false) {\n        this.router.navigateByUrl('/login');\n      } else {\n        this.get_location_list('internal');\n        this.show_scan_form = this.scanner_options['reader'];\n      }\n    })\n    .catch((error)=>{\n      this.presentAlert('Error al comprobar tu sesión:', error);\n    });\n  }\n\n  check_scanner_values() {\n    this.storage.get('SCANNER').then((val) => {\n      if (val){\n        this.scanner_options = val;\n      } \n    })\n    .catch((error)=>{\n      this.presentAlert('Error al acceder a las opciones del scanner:', error);\n    });\n  }\n\n  onReadingEmitted(val: string) {\n    this.scanner_reading = val;\n    this.search = val;\n    this.get_location_list(this.current_selected_type, this.search);\n  }\n\n  onShowEmitted(val: boolean) {\n    this.show_scan_form = val;\n  }\n\n  async presentAlert(titulo, texto) {\n    this.audio.play('error');\n    const alert = await this.alertCtrl.create({\n        header: titulo,\n        subHeader: texto,\n        buttons: ['Ok']\n    });\n    await alert.present();\n  }\n  \n  get_location_list(location_state='internal', search=null){\n    this.offset = 0;\n    this.limit_reached = false;\n    this.current_selected_type = location_state;\n    this.stock.get_location_list(location_state, this.offset, this.limit, search).then((location_list)=> {\n      this.locations = location_list;\n      if(Object.keys(location_list).length < 25){\n        this.limit_reached = true;\n      }\n      if (Object.keys(this.locations).length == 1){\n        this.router.navigateByUrl('/stock-location/'+this.locations[0]['id']);\n      }\n      this.audio.play('click');\n    })\n    .catch((error) => {\n      this.presentAlert('Error al recuperador el listado de operaciones:', error);\n    });\n  }\n\n  get_search_results(ev:any){\n    this.search = ev.target.value;\n    this.get_location_list(this.current_selected_type, this.search);\n  }\n\n  // Infinitescroll\n\n  loadData(event) {\n    setTimeout(() => {\n      console.log('Loading more locations');\n      event.target.complete();\n      this.location_list_infinite_scroll_add();\n\n      // App logic to determine if all data is loaded\n      // and disable the infinite scroll\n      if (this.limit_reached) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n  location_list_infinite_scroll_add(){\n    this.offset += this.limit;\n    this.stock.get_location_list(this.current_selected_type, this.offset, this.limit, this.search).then((data:Array<{}>)=> {\n      let current_length = Object.keys(this.locations).length;\n      if(Object.keys(data).length < 25){\n        this.limit_reached = true;\n      }\n      for(var k in data) this.locations[current_length+Number(k)]=data[k];\n    })\n    .catch((error) => {\n      this.presentAlert('Error al recuperador el listado de operaciones:', error);\n    });\n  }\n\n  toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n\n}\n"],"sourceRoot":""}