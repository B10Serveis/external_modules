{"version":3,"sources":["./src/app/components/scanner/scanner-footer/scanner-footer.component.html","./src/app/components/scanner/scanner-header/scanner-header.component.html","./src/app/components/scanner/scanner-footer/scanner-footer.component.scss","./src/app/components/scanner/scanner-footer/scanner-footer.component.ts","./src/app/components/scanner/scanner-header/scanner-header.component.scss","./src/app/components/scanner/scanner-header/scanner-header.component.ts","./src/app/services/scanner.service.ts","./src/app/shared/shared.module.ts"],"names":[],"mappings":"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","file":"default~pages-product-list-product-list-module~pages-stock-location-list-stock-location-list-module~~ec8a8dce-es2015.js","sourcesContent":["module.exports = \"<ion-footer>\\n  <form [formGroup]=\\\"ScanReader\\\" class =\\\"alignBottom\\\" *ngIf=\\\"show_scan_form\\\">\\n    <ion-item>\\n      <ion-label item-start>Scan: </ion-label>\\n      <ion-input #scan type=\\\"text\\\" formControlName=\\\"scan\\\" ></ion-input>\\n    \\n      <button ion-button icon-only item-end clear (click)=\\\"submitScan()\\\">\\n        <ion-icon name=\\\"barcode\\\"></ion-icon>\\n      </button>\\n    </ion-item>   \\n  </form>\\n</ion-footer>\"","module.exports = \"<ion-buttons end>\\n  <!-- Commented voice function -->\\n  <button ion-button icon-only item-end (click)=\\\"change_volume()\\\">\\n    <ion-icon *ngIf=\\\"volume\\\" name=\\\"megaphone\\\"></ion-icon>\\n    <ion-icon *ngIf=\\\"!volume\\\" name=\\\"volume-off\\\"></ion-icon>\\n  </button>\\n  <button ion-button icon-only item-end (click)=\\\"change_escuchando()\\\">\\n    <ion-icon *ngIf=\\\"escuchando\\\" name=\\\"mic\\\"></ion-icon>\\n    <ion-icon *ngIf=\\\"!escuchando\\\" name=\\\"mic-off\\\"></ion-icon>\\n  </button>\\n    \\n    <button ion-button icon-only item-end (click)=\\\"change_hide_scan_form()\\\">\\n    <ion-icon name=\\\"barcode\\\"></ion-icon>\\n  </button>\\n</ion-buttons>\"","module.exports = \"ion-footer button {\\n  color: var(--ion-color-primary);\\n  background-color: white;\\n  font-size: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9hcGsvc3JjL2FwcC9jb21wb25lbnRzL3NjYW5uZXIvc2Nhbm5lci1mb290ZXIvc2Nhbm5lci1mb290ZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2Nhbm5lci9zY2FubmVyLWZvb3Rlci9zY2FubmVyLWZvb3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLCtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0FDQVIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NjYW5uZXIvc2Nhbm5lci1mb290ZXIvc2Nhbm5lci1mb290ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tZm9vdGVyIHtcbiAgICBidXR0b24ge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgIH1cbn0iLCJpb24tZm9vdGVyIGJ1dHRvbiB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDMwcHg7XG59Il19 */\"","import { Component, OnInit, Input, HostListener, Output, EventEmitter } from '@angular/core';\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms'; \nimport { ScannerService } from '../../../services/scanner.service';\nimport { AudioService } from '../../../services/audio.service';\n\n@Component({\n  selector: 'app-scanner-footer',\n  templateUrl: './scanner-footer.component.html',\n  styleUrls: ['./scanner-footer.component.scss'],\n})\n\nexport class ScannerFooterComponent implements OnInit {\n\n  /* ScanReader: FormGroup; */\n\n  ScanReader = new FormGroup({\n      scan: new FormControl()\n  });\n\n  @HostListener('document:keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    this.scanner.key_press(event)\n    this.scanner.timeout.then((val)=>{\n      this.scan_read(val)\n    })\n  }\n\n  @Input() show_scan_form: boolean\n  @Input() scanner_reading: string\n  @Output() scanner_reading_changed = new EventEmitter<string>();\n\n  constructor(\n    public scanner: ScannerService,\n    public formBuilder: FormBuilder,\n    private audio: AudioService\n  ) {\n    this.scanner.on()\n\n    this.ScanReader = new FormGroup({\n      scan: new FormControl()\n   });\n  }\n\n  ngOnInit() {}\n\n\n  scan_read(val){\n    this.audio.play('barcode_ok');\n    this.scanner_reading = val;\n    this.scanner_reading_changed.emit(this.scanner_reading);\n  }\n\n  submitScan(){\n    if (this.ScanReader) {\n      this.audio.play('barcode_ok');\n      this.scanner_reading = this.ScanReader.value['scan'];\n      this.scanner_reading_changed.emit(this.scanner_reading);\n    }\n  }\n\n}","module.exports = \"ion-buttons button {\\n  color: var(--ion-color-primary);\\n  background-color: white;\\n  font-size: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9hcGsvc3JjL2FwcC9jb21wb25lbnRzL3NjYW5uZXIvc2Nhbm5lci1oZWFkZXIvc2Nhbm5lci1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2Nhbm5lci9zY2FubmVyLWhlYWRlci9zY2FubmVyLWhlYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLCtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0FDQVIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NjYW5uZXIvc2Nhbm5lci1oZWFkZXIvc2Nhbm5lci1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYnV0dG9ucyB7XG4gICAgYnV0dG9uIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICB9XG59IiwiaW9uLWJ1dHRvbnMgYnV0dG9uIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMzBweDtcbn0iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { ScannerOptions } from '../../../interfaces/scanner-options';\nimport { Storage } from '@ionic/storage';\nimport { AudioService } from '../../../services/audio.service';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-scanner-header',\n  templateUrl: './scanner-header.component.html',\n  styleUrls: ['./scanner-header.component.scss'],\n})\nexport class ScannerHeaderComponent implements OnInit {  \n\n  scanner_options: ScannerOptions = { reader: true, microphone: false, sound: false };\n\n  @Input() volume: boolean\n  @Input() show_scan_form: boolean\n  @Input() escuchando: boolean\n  @Output() show_scan_form_changed = new EventEmitter<boolean>();\n  @Output() show_escuchando = new EventEmitter<boolean>();\n  @Output() show_volume = new EventEmitter<boolean>();\n\n  constructor(\n    private storage: Storage,\n    private audio: AudioService,\n    public alertCtrl: AlertController,\n  ) { }\n\n  ngOnInit() {\n    this.storage.get('SCANNER').then((val) => {\n      if (val){\n        this.scanner_options = val;\n        this.update_show_vals();\n      } else {\n        this.save_scanner_options();\n      }\n    })\n    .catch((error)=>{\n      this.presentAlert('Error al acceder a las opciones del scanner:', error);\n    });\n  }\n\n  async presentAlert(titulo, texto) {\n    if (this.volume == true) {\n      this.audio.play('error');\n    }\n    const alert = await this.alertCtrl.create({\n        header: titulo,\n        subHeader: texto,\n        buttons: ['Ok']\n    });\n    await alert.present();\n  }\n\n  change_volume() {\n    this.volume = !this.volume;\n    this.scanner_options['sound'] = this.volume;\n    this.save_scanner_options();\n    this.show_volume.emit(this.volume);\n  }\n\n  change_escuchando() {\n    this.escuchando = !this.escuchando;\n    this.scanner_options['microphone'] = this.escuchando;\n    this.save_scanner_options();\n    this.show_escuchando.emit(this.escuchando);\n  }\n\n  change_hide_scan_form() {\n    this.show_scan_form = !this.show_scan_form;\n    this.scanner_options['reader'] = this.show_scan_form;\n    this.save_scanner_options();\n    this.show_scan_form_changed.emit(this.show_scan_form)\n  }\n\n  save_scanner_options() {\n    this.storage.set('SCANNER', this.scanner_options).then(() => {\n    })\n  }\n\n  update_show_vals() {\n    this.volume = this.scanner_options['sound'];\n    this.escuchando = this.scanner_options['microphone'];\n    this.show_scan_form = this.scanner_options['reader'];\n  }\n\n\n}\n","import { Injectable, HostListener } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScannerService {\n\n  @HostListener('document:keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    \n    }\n  code = \"\"\n  timeStamp  = 0\n  timeout = null\n  state = false\n  is_order = false\n  hide_scan_form: boolean\n  case: any\n  fragment: any\n  constructor() {\n    this.reset_scan()\n  }\n  reset_scan(){\n    this.code = \"\"\n    this.is_order = false\n    this.timeStamp = 0\n    this.timeout = null\n    this.case = \"regular\"\n    this.fragment = ''\n  }\n  on(){\n    this.state=true\n    this.reset_scan()\n    //this.odootools.presentToast(this.code)\n  }\n  off(){\n    this.state=false\n    this.reset_scan()\n    //this.odootools.presentToast(this.code)\n  }\n\n  key_press(event){\n    //console.log(event)\n    //let st = (\"Me llega \" + event.which + '[' + event.keyCode + ' ]' + \" y tengo \" + this.code)\n    //console.log(st)\n    //this.odootools.presentToast(st)\n    \n    //this.odootools.presentToast(e)\n    if(!this.state){ //ignore returns\n\n    }\n    else{\n      //este 250 es el tiempo en resetear sin pulsaciones\n      if (this.timeStamp + 400 < new Date().getTime()){\n          this.code = \"\"\n          this.is_order = false\n      }\n      this.timeStamp = new Date().getTime();\n      //this.odootools.presentToast(st)\n\n      switch (event.which) {\n          case 37: {\n              this.case = \"left\"\n              break;\n          }\n\n          case 38: {\n              this.case = \"up\"\n              break;\n          }\n\n          case 39: {\n              this.case = \"right\"\n              break;\n          }\n\n          case 40: {\n              this.case = \"down\"\n              break;\n          }\n\n          default: {\n              this.case = \"regular\"\n              break;\n          }\n      }\n      \n      clearTimeout(this.timeout);\n\n      var keyCode = event.keyCode || event.which;\n      \n      if (keyCode > 111 && keyCode < 121 ) {\n          this.code = String.fromCharCode(keyCode)\n          this.is_order = true\n      }\n      else if (keyCode >= 48 && keyCode < 110 || keyCode == 190) {\n          if (keyCode >= 96 && keyCode <= 105) {\n              // Numpad keys\n              keyCode -= 48;\n              this.fragment = String.fromCharCode(keyCode);\n          } else if(keyCode == 190) {\n              this.fragment = \".\"\n          } else {\n              this.fragment = String.fromCharCode(keyCode);\n          }\n          this.is_order = false\n          this.code += this.fragment\n      }\n      \n      \n      this.timeout = new Promise ((resolve) => {\n          setTimeout(()=>{\n              if(this.case != \"regular\") {\n                  let scan = this.case\n                  this.code = ''\n                  //console.log('Envío ' + scan)\n                  resolve(scan);\n              } else if(this.code && (this.code.length >= 4 || this.is_order)){\n              this.is_order = false\n              //console.log('Devuelvo ' + this.code)\n              let scan = this.code.replace('-','/')\n              this.code = ''\n              //console.log (scan + \" ----> \" + this.code)\n              resolve(scan);\n          };\n          },500);\n          // este 500 es el tiempo que suma pulsaciones\n      })\n    }\n    return this && this.timeout\n  }\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { ScannerHeaderComponent } from '../components/scanner/scanner-header/scanner-header.component'\nimport { ScannerFooterComponent } from '../components/scanner/scanner-footer/scanner-footer.component'\n\n\n@NgModule({\n  imports: [\n    CommonModule, \n    IonicModule,\n    ReactiveFormsModule\n  ],\n  declarations: [\n    ScannerHeaderComponent, \n    ScannerFooterComponent\n  ],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  exports: [\n    ScannerHeaderComponent, \n    ScannerFooterComponent\n  ]\n})\nexport class SharedModule {}\n"],"sourceRoot":""}