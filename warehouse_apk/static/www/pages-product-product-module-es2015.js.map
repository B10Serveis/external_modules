{"version":3,"sources":["./src/app/components/product-info/product-info.component.html","./src/app/pages/product/product.page.html","./src/app/components/product-info/product-info.component.scss","./src/app/components/product-info/product-info.component.ts","./src/app/pages/product/product.module.ts","./src/app/pages/product/product.page.scss","./src/app/pages/product/product.page.ts"],"names":[],"mappings":"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","file":"pages-product-product-module-es2015.js","sourcesContent":["module.exports = \"<ion-card *ngIf=\\\"product\\\">\\n\\n    <ion-card-header>\\n      <ion-card-title>{{product.name}}</ion-card-title>\\n    </ion-card-header>\\n  \\n    <ion-card-content>\\n      <div class=\\\"product_img\\\">\\n        <ion-img *ngIf=\\\"product.base64\\\" src=\\\"data:image/jpeg;base64,{{ product['image_medium'] }}\\\"></ion-img>\\n        <ion-img *ngIf=\\\"!product.base64\\\" src=\\\"{{ product['image_medium'] }}\\\"></ion-img>\\n        <ion-label>{{product.description_short}}</ion-label>\\n      </div>\\n      <div><strong>Categoría: </strong>{{product.categ_id[1]}}</div>\\n      <div><strong>Referencia: </strong>{{product.default_code}}</div>\\n      <div><strong>Codigo de barras: </strong>{{product.barcode}}</div>\\n      <div><strong>Precio de venta: </strong>{{product.list_price}}€</div>\\n      <div><strong>Precio de compra: </strong>{{product.standard_price}}€</div>\\n      <div [ngClass]=\\\"{'danger': product.qty_available &lt;= 0}\\\"><strong>A mano: </strong>{{product.qty_available}}</div>\\n      <div [ngClass]=\\\"{'danger': product.qty_available &lt;= 0}\\\"><strong>Previsto: </strong>{{product.virtual_available}}</div>\\n    </ion-card-content>\\n  \\n  </ion-card>\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"Productos\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n\\n    <ion-title>Detalles del producto</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-product-info [product]=\\\"product_data\\\"></app-product-info>\\n</ion-content>\"","module.exports = \"div.danger {\\n  color: var(--ion-color-danger);\\n}\\ndiv.product_img ion-img {\\n  max-width: 100px;\\n  max-height: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2tpa28vaW9uaWM0L3dhcmVob3VzZV9hcGsvc3JjL2FwcC9jb21wb25lbnRzL3Byb2R1Y3QtaW5mby9wcm9kdWN0LWluZm8uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvcHJvZHVjdC1pbmZvL3Byb2R1Y3QtaW5mby5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLDhCQUFBO0FDQVI7QURHUTtFQUNJLGdCQUFBO0VBQ0EsaUJBQUE7QUNEWiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcHJvZHVjdC1pbmZvL3Byb2R1Y3QtaW5mby5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XG4gICAgJi5kYW5nZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG4gICAgfVxuICAgICYucHJvZHVjdF9pbWcge1xuICAgICAgICBpb24taW1nIHtcbiAgICAgICAgICAgIG1heC13aWR0aDogMTAwcHg7XG4gICAgICAgICAgICBtYXgtaGVpZ2h0OiAxMDBweDtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJkaXYuZGFuZ2VyIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xufVxuZGl2LnByb2R1Y3RfaW1nIGlvbi1pbWcge1xuICBtYXgtd2lkdGg6IDEwMHB4O1xuICBtYXgtaGVpZ2h0OiAxMDBweDtcbn0iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-product-info',\n  templateUrl: './product-info.component.html',\n  styleUrls: ['./product-info.component.scss'],\n})\nexport class ProductInfoComponent implements OnInit {\n\n  @Input() product: {}\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductPage } from './product.page';\nimport { ProductInfoComponent } from '../../components/product-info/product-info.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  entryComponents: [ProductInfoComponent],\n  declarations: [ProductPage, ProductInfoComponent]\n})\nexport class ProductPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byb2R1Y3QvcHJvZHVjdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { AlertController } from '@ionic/angular';\nimport { OdooService } from '../../services/odoo.service';\nimport { AudioService } from '../../services/audio.service';\nimport { StockService } from '../../services/stock.service';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.page.html',\n  styleUrls: ['./product.page.scss'],\n})\nexport class ProductPage implements OnInit {\n\n  product_data: {};\n  placeholder: string;\n\n  constructor(\n    private odoo: OdooService,\n    public router: Router,\n    public alertCtrl: AlertController,\n    private route: ActivatedRoute,\n    private audio: AudioService,\n    private stock: StockService,\n    private storage: Storage,\n  ) { }\n\n  ngOnInit() {\n    this.odoo.isLoggedIn().then((data)=>{\n      if (data==false) {\n        this.router.navigateByUrl('/login');\n      } else {\n        this.storage.get('CONEXION').then((con) => {\n          this.placeholder = con.url + \"/web/static/src/img/placeholder.png\"\n        })\n        .catch((error)=>{\n          this.presentAlert('Error al comprobar tu sesión:', error);\n        });\n        var product = this.route.snapshot.paramMap.get('id');\n        this.get_product_info(product);\n      }\n    })\n    .catch((error)=>{\n      this.presentAlert('Error al comprobar tu sesión:', error);\n    });\n  }\n\n  async presentAlert(titulo, texto) {\n    this.audio.play('error');\n    const alert = await this.alertCtrl.create({\n        header: titulo,\n        subHeader: texto,\n        buttons: ['Ok']\n    });\n    await alert.present();\n  }\n\n  get_product_info(product) {\n    console.log(product);\n    this.stock.get_product_info(product).then((data)=>{\n      if (data[0]['image_medium']==false){\n        data[0]['base64'] = false;\n        data[0]['image_medium'] = this.placeholder;\n      } else {\n        data[0]['base64'] = true;\n      }\n      this.product_data = data[0];  \n      this.audio.play('click');\n    })\n    .catch((error)=>{\n      this.presentAlert('Error al recuperar el picking:', error);\n    });\n  }\n\n}\n"],"sourceRoot":""}